{"version":3,"sources":["modules/Settings/components/CheckboxGroup.module.css","modules/components/Category.module.css","modules/Dash/DashPage.module.css","modules/Settings/components/SettingsButtons.module.css","engine/persist.js","modules/Home/HomeSchema.js","modules/Dash/DashSchema.js","modules/Settings/SettingsSchema.js","modules/Connections/ConnectionsSchema.js","modules/App/AppSchema.js","modules/Menu/MenuTabs.js","modules/App/AppInit.js","engine/index.js","utils/mergeDeep.js","modules/App/components/Banner.js","modules/Connections/ConnectionsContainer.js","modules/Home/HomeContainer.js","modules/Home/components/RunsSetting.js","modules/Home/HomePage.js","modules/Dash/DashContainer.js","modules/components/Chart.js","modules/Dash/components/ChangeSymbolFilter.js","modules/Dash/DashPage.js","modules/Settings/SettingsContainer.js","modules/Settings/components/SubscriptionPatternSetting.js","modules/Settings/components/DataBarsOptions.js","modules/Settings/components/DataBarsSetting.js","modules/Settings/components/DisplayBarsOptions.js","modules/Settings/components/DisplayBarsSetting.js","modules/Settings/components/RefreshRateMsOptions.js","modules/Settings/components/RefreshRateMsSetting.js","modules/Settings/components/CheckboxGroup.js","utils/getBrowserName.js","utils/getBrowserFeatures.js","modules/components/Category.js","modules/components/BrowserFeatures.js","utils/isMobileDevice.js","modules/Settings/components/SettingsButtons.js","modules/Settings/SettingsPage.js","modules/Credits/CreditsPage.js","modules/Connections/components/AddConnection.js","modules/Connections/ConnectionsPage.js","modules/TimeMachine/TimeMachinePage.js","modules/TimeMachine/TimeMachineContainer.js","modules/TimeMachineControls/TimeMachineControls.js","modules/TimeMachineControls/TimeMachineControlsContainer.js","modules/Menu/Menu.js","modules/App/components/Icons.js","modules/App/AppPage.js","modules/App/AppContainer.js","serviceWorker.js","index.js"],"names":["module","exports","lastAppId","lastState","newAppId","newState","schema","symbolFilter","type","persistent","initValue","dataBars","displayBars","subscriptionPattern","refreshRateMs","devMode","connectionId","connections","sourceName","props","recipe","seq","Seq","cnt","count","error","runId","runs","runsCnt","runsView","sort","a","b","r1","get","r2","parseInt","runsLog","keys","keysCnt","messages","recipe0","a1","c1","localeCompare","a2","getIn","c2","a3","c3","AppSchema","args","fromJS","url","location","search","query","substr","result","split","forEach","part","item","decodeURIComponent","getJsonFromUrl","selectedTabIndex","home","HomeSchema","dash","DashSchema","ConnectionsSchema","settings","SettingsSchema","MenuTabs","AppInit","engine","store","initState","urlArgs","getState","tab","window","confirm","dispatch","actionFactory","init","persist","history","replaceState","document","title","i","length","value","err","console","log","setInterval","liveState","persistableState","serializedState","JSON","stringify","localStorage","setItem","isObject","Array","isArray","mergeDeep","target","sources","source","shift","key","Object","assign","createEngine","reducer","repoReducer","createStore","head","persistedState","appId","getItem","parse","loadState","AppName","mergedState","toJS","refresh","makeStore","action","subscribe","state","saveState","style","fontSize","color","padding","Banner","e","subEngine","af","se","brokers","handleError","Error","tag","status","errorMsg","message","decrTs","ts","sep","indexOf","ts1","substring","ts2","toString","readRange","broker","streamName","limit","reverse","actionCreator","callback","cmd","beginSymbol","endSymbol","list","command","cb","data","xbatch","lastTs","fieldRecord","record","rec","push","batch","readRangeList","async","pattern","listener","insert","channel","bars","withMutations","size","lastBar","last","set","action2","flush","commandAsync","readRuns","map","filter","update","$set","readKeys","keysData","load","reset","runIdData","defaultRunId","keyPrefix","updateBrokers","conns","host","mapDispatchToProps","addConnection","conn","id","username","password","maxSentCommandsCnt","timeoutMs","changeState","setMessage","createClient","reload","ownProps","connection","action1","removeConnection","close","remove","ConnectionsContainer","connect","repo","connectionsCnt","ce","caf","HomeContainer","cState","setRunId","RunsSetting","handleChange","selectedOption","options","optionsMap","option","label","this","setState","prevProps","prevState","snapshot","width","onChange","Component","errSort","HomePage","renderCnt","cache","hostname","run","errors","List","time","runsSetting","runConfig","runErrTable","runErrorsSize","frun","maxWidth","className","colSpan","toSetSeq","valueSeq","name","collapsed","src","runErrors","sub","replace","sState","changeSymbolFilter","CandleStickChartForDiscontinuousIntraDay","initialData","ratio","discontinuousTimeScaleProvider","inputDateAccessor","d","date","xScaleProvider","xScale","xAccessor","displayXAccessor","xExtents","Math","max","height","margin","left","right","top","bottom","seriesName","position","yExtents","high","low","axisAt","orient","ticks","rectWidth","at","displayFormat","timeFormat","format","itemType","edgeAt","yAccessor","fill","open","origin","xDisplayFormat","React","defaultProps","input","onSubmit","preventDefault","trim","defaultValue","ref","node","icon","DashPage","toLowerCase","k","startsWith","endsWith","sortBy","v","ka","slice","ch","updateCnt","obj","jsData","Date","timeMs","volume","css","chart","Chart","ThrottledComponent","throttle","SettingsContainer","setDataBars","setDisplayBars","setSubscriptionPattern","setRefreshRateMs","setDevMode","checked","SubscriptionPatternSetting","DataBarsOptions","DataBarsSetting","customStyles","provided","textAlign","control","singleValue","styles","DisplayBarsOptions","DisplayBarsSetting","RefreshRateMsOptions","RefreshRateMsSetting","CheckboxGroup","switch","devModeChange","bind","getBrowserName","names","ua","navigator","userAgent","n","j","hasAsync","Function","Cat2Color","cat","Cat2Cn","cn","Category","category","backgroundColor","children","BrowserFeatures","isMobileDevice","orientation","browserFeatures","bf","language","platform","abortController","AbortController","webWorker","Worker","webAssembly","WebAssembly","isOutdatedBrowser","getBrowserFeatures","SettingsButtons","href","rel","button","SettingsPage","CreditsPage","ConnectionsPage","renderStateIcon","onClick","toIndexedSeq","renderConnections","TimeMachinePage","copy","isImmutable","showRepo","actionToJs","live","pre","preRender","TimeMachineContainer","branch","currentBranchState","currentIndex","states","undefined","actions","printableState","TimeMachineControls","currentBranch","advanced","saveAs","nextProps","switchBranch","saveBranch","resetBranch","removeBranch","goForward","goBack","goLive","doShowRepo","index","branches","maxIndex","toggleLive","toggleAdvanced","toggleRepo","onChangeBranch","onGoBack","onGoForward","onSaveBranch","disabled","onReset","onRemove","min","step","onSliderChange","TimeMachineControlsContainer","keySeq","steps","setOption","HomeTab","DashTab","DashContainer","ConnectionsTab","SettingsTab","Menu","updateTabIndex","selectedTabClassName","selectedIndex","onSelect","library","add","faWifi","faHeart","farHeart","faHeartbeat","faExclamationTriangle","faThumbsUp","faHome","faTerminal","faChartLine","faTachometerAlt","faInfo","faMicrochip","faTrophy","faPlus","faMinus","faHandPaper","faCheck","faBackspace","faCalculator","faPercent","faSmile","faUser","faUserMinus","faUserPlus","faRandom","faSyncAlt","faToggleOn","faToggleOff","faTrashAlt","faFilter","faSearch","faSearchMinus","faSearchPlus","faArrowsAltH","faPlay","faStop","faEllipsisH","faRunning","faTh","faGripVertical","faGripHorizontal","faBug","faHistory","faCodeBranch","faGenderless","faTable","faListUl","faBookMedical","faPalette","faCog","faGolfBall","faBowlingBall","faTrashRestore","AppPage","AppContainer","Boolean","match","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b0a8476f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"CheckboxGroup_switch__110xu\",\"right\":\"CheckboxGroup_right__PtWaV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cat\":\"Category_cat__1OQqw\",\"err\":\"Category_err__3OT8i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sticky\":\"DashPage_sticky__1agxd\",\"chart\":\"DashPage_chart__1Yoyh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SettingsButtons_button__2Xh6m\"};","import { engine } from '.'\n\nexport const loadState = (appId) => {\n  try {\n    const serializedState = localStorage.getItem(appId);\n    if (serializedState === null) {\n      return undefined;\n    }\n    const parsedState = JSON.parse(serializedState);\n    return parsedState;\n  } catch (err) {\n    return undefined;\n  }\n};\n\nlet lastAppId;\nlet lastState;\nlet newAppId;\nlet newState;\n\nexport const saveState = (appId, state) => {\n    newAppId = appId;\n    newState = state;\n};\n\nconst persistState = () => {\n  try {\n    if(lastAppId === newAppId && lastState === newState) {\n      return;\n    }\n    const liveState = engine.liveState(newState);\n    const persistableState = engine.persistableState(liveState);\n    const serializedState = JSON.stringify(persistableState);\n    localStorage.setItem(newAppId, serializedState);\n    lastAppId = newAppId;\n    lastState = newState;\n  } catch (err) {\n    console.log(\"DUXEN ERROR: persistState: \", err);\n  }\n};\n\nsetInterval(persistState, 1000);\n","import type { Schema } from 'duxen'\n\n// const cmp=(a,b)=>(a>b?1:(a<b?-1:0))\nconst schema:Schema = {\n\n}\n\nexport default schema\n","import type { Schema } from 'duxen'\n\n// const cmp=(a,b)=>(a>b?1:(a<b?-1:0))\nconst schema:Schema = {\n    symbolFilter: {\n        type: 'value',\n        persistent: true,\n        initValue: \"/NQ\",\n    },\n}\n\nexport default schema\n","import type { Schema } from 'duxen'\n\nconst schema:Schema = {\n  dataBars: {\n    type: 'value',\n    persistent: true,\n    initValue: 100,\n  },\n  displayBars: {\n    type: 'value',\n    persistent: true,\n    initValue: 10,\n  },\n  subscriptionPattern: {\n    type: 'value',\n    persistent: true,\n    initValue: \"*\",\n  },\n  refreshRateMs: {\n    type: 'value',\n    persistent: true,\n    initValue: \"200\",\n  },\n  devMode: {\n    type: 'value',\n    persistent: true,\n    initValue: false,\n  },\n}\n\nexport default schema\n","/**\n *  Copyright (c) 2018, AMI System, LLC\n *  All rights reserved.\n *\n *  This source code is licensed under the MIT-style license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type { Schema } from 'duxen'\n\nimport { Seq } from 'immutable-sorted'\n\nconst schema:Schema = {\n\n  connectionId: {\n    type: 'value',\n    persistent: true,\n    initValue: 1,\n  },\n\n  connections: {\n    type: 'collection',\n    persistent: true,\n  },\n\n  'connectionsCnt': {\n    type:'view',\n    sourceName: 'connections',\n    props: [],\n    recipe: (seq, props)=>Seq({cnt: seq.count()})\n  },\n\n  error: {\n    type: 'value',\n    persistent: false,\n    initValue: null,\n  },\n\n  runId: {\n    type: 'value',\n    persistent: false,\n    initValue: null,\n  },\n \n  runs: {\n    type: 'collection',\n    persistent: false,\n  },\n\n  runsCnt: {\n    type:'formula',\n    props: [\"runs\"],\n    recipe: (props)=>props.runs.count()\n  },\n\n  runsView: {\n    type: 'view',\n    sourceName: 'runs',\n    props: [],\n    recipe: (seq, props)=>seq.sort((a, b)=>{\n      const r1 = b.get(\"runId\")\n      if(r1) {\n        const r2 = a.get(\"runId\")\n        return parseInt(r1) - parseInt(r2)\n      }\n      return 0\n    }),\n  },\n\n  runsLog: {\n    type: 'collection',\n    persistent: false,\n  },\n\n  keys: {\n    type: 'collection',\n    persistent: false,\n  },\n\n  keysCnt: {\n    type:'formula',\n    props: ['keys'],\n    recipe: (props)=>props.keys.count()\n  },\n\n  messages: {\n    type: 'collection',\n    persistent: false,\n  },\n\n  'messagesView': {\n    type:'view',\n    sourceName: 'messages',\n    props: [],\n    recipe: (seq, props)=>seq,\n    recipe0: (seq, props)=>seq.sort((a, b)=>{\n        const a1 = a.get(\"componentName\")\n      if(a1) {\n        const c1 = a1.localeCompare(b.get(\"componentName\"))\n        if(c1 !== 0) {\n          return c1\n        }\n      }\n      const a2 = a.getIn([\"common\", \"contract\", \"name\"])\n      if(a2) {\n        const c2 = a2.localeCompare(b.getIn([\"common\", \"contract\", \"name\"]))\n        if(c2 !== 0) {\n          return c2\n        }\n      }\n      const a3 = a.getIn([\"common\", \"item\"])\n      if(a3) {\n        const c3 = a3.localeCompare(b.getIn([\"common\", \"item\"]))\n        if(c3 !== 0) {\n          return c3\n        }\n      }\n      return 0\n    }),\n  },\n\n}\n\nexport default schema\n","import type { Schema } from 'duxen'\nimport { fromJS } from 'immutable-sorted'\n\nimport HomeSchema from '../Home/HomeSchema'\nimport DashSchema from '../Dash/DashSchema'\nimport SettingsSchema from '../Settings/SettingsSchema'\nimport ConnectionsSchema from '../Connections/ConnectionsSchema'\n\nexport const AppName = \"poserjs\";\nexport const AppVersion = \"0.0.3\";\n\nconst getJsonFromUrl = (url) => {\n  // eslint-disable-next-line no-restricted-globals\n  if(!url) url = location.search\n  var query = url.substr(1)\n  var result = {}\n  query && query.split(\"&\").forEach(function(part) {\n    var item = part.split(\"=\")\n    result[item[0]] = decodeURIComponent(item[1])\n  })\n  return result\n}\n\nexport const AppSchema: Schema = {\n\n  args: {\n    type: 'value',\n    persistent: false,\n    initValue: fromJS(getJsonFromUrl()),\n  },\n\n  selectedTabIndex: {\n    type: 'value',\n    persistent: true,\n    initValue: 0,\n  },\n\n  home: {\n    type: 'schema',\n    schema: HomeSchema,\n  },\n\n  dash: {\n    type: 'schema',\n    schema: DashSchema,\n  },\n\n  connections: {\n    type: 'schema',\n    schema: ConnectionsSchema,\n  },\n\n  settings: {\n    type: 'schema',\n    schema: SettingsSchema,\n  },\n\n}\n\nexport default AppSchema\n","\nconst MenuTabs = [\"home\", \"dash\", \"connections\", \"settings\", \"credits\", \"debug\"]\n\nexport default MenuTabs\n","import { actionFactory, getState, dispatch, persist } from '../../engine'\nimport MenuTabs from '../Menu/MenuTabs'\n\n// This function is called after Duxen creates an engine,\n// creates and initial state (restores the saved state)\nconst AppInit = (engine, store, initState) => {\n  const state = getState()\n  const urlArgs = state.get(\"args\")\n  const tab = urlArgs.get(\"tab\")\n  const reset = urlArgs.get(\"reset\")\n\n  if(reset === \"true\") {\n    if(window.confirm(\"This will clear all application saved data. Are you sure?\")) {\n      dispatch(actionFactory.init(initState))\n      persist()\n    }\n    window.history.replaceState({}, document.title, \"/\");\n    return\n  }\n\n  try {\n    if(tab) {\n      for(let i = 0; i < MenuTabs.length; i++) {\n        if(tab === MenuTabs[i]) {\n          dispatch(actionFactory.value(\"selectedTabIndex\", i))\n        }\n      }\n    }\n\n    persist()\n  } catch(err) {\n    console.log(\"INIT ERROR:\", err)\n  }\n}\n\nexport default AppInit\n","import { createStore } from 'redux'\nimport { createEngine } from 'duxen'\nimport schema from '../modules/App/AppSchema'\nimport { AppName, AppVersion } from '../modules/App/AppSchema'\nimport AppInit from '../modules/App/AppInit'\nimport { loadState, saveState } from './persist'\n\nimport mergeDeep from '../utils/mergeDeep'\n\nlet initState\nconst appId = AppName + \":\" + AppVersion\n\nconst makeStore = (engine) => {\n\n  const reducer = engine.repoReducer()\n  const store = createStore(reducer)\n\n  initState = engine.head(store.getState())\n  const persistedState = loadState(appId)\n\n  if(persistedState) {\n    const mergedState = mergeDeep(initState.toJS(), persistedState)\n    store.dispatch(engine.actionFactory().init(mergedState))\n  }\n  store.dispatch(engine.actionFactory().refresh())\n  // store.subscribe(() => saveState(appId, store.getState()))\n  // engine.subscribe((action) => console.log(\"ACTION\", Date(), action.type, JSON.stringify(action, undefined, 4)))\n  // store.subscribe(() => console.log(\"REDUX STATE\", Date(), JSON.stringify(engine.printableState(getState()).toJS(), undefined, 4)))\n\n  return store\n}\n\nexport const engine = createEngine(schema)\nexport const actionFactory = engine.actionFactory()\nexport const store = makeStore(engine)\nexport const dispatch = (action) => store.dispatch(action)\nexport const getState = () => engine.head(store.getState())\nexport const persist = () => store.subscribe(() => saveState(appId, store.getState()))\n\nAppInit(engine, store, initState)\n","/*\n// Copied from: \n//\n// https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\n*/\n\n/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nconst isObject = (item) => {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nconst mergeDeep = (target, ...sources) => {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\nexport default mergeDeep \n","import React from 'react'\n\nconst style = {fontSize: 20, color: \"white\", padding: \"0px\"}\n\nconst Banner = (props) => (\n  <div style={style}>\n    Chaser\n  </div>\n)\n\nexport default Banner\n","/**\n *  Copyright (c) 2018, AMI System, LLC\n *  All rights reserved.\n *\n *  This source code is licensed under the MIT-style license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport { connect } from 'react-redux'\n\nimport { engine, getState, dispatch } from '../../engine'\nimport { createClient } from 'xbroker-client'\nimport { fromJS } from 'immutable-sorted'\n\nconst e = engine.subEngine('connections')\nconst af = e.actionFactory();\n\nconst se = engine.subEngine('settings')\n\nexport const brokers = {};\n\nconst handleError = (error) => {\n  if(error instanceof Error) {\n    error = {tag: null, status: \"error\", errorMsg: e.message};\n  }\n  dispatch(af.value('error', error));\n}\n\nconst decrTs = (ts) => {\n  if(ts === \"+\") {\n    return ts\n  }\n\n  const sep = ts.indexOf(\"-\")\n  let ts1 = parseInt(ts.substring(0, sep), 10)\n  let ts2 = parseInt(ts.substring(sep+1))\n  if(ts2 === 0) {\n    ts1--\n    return ts1.toString()\n  } \n  \n  ts2--\n  return ts1.toString()+\"-\"+ts2.toString()\n}\n\nconst readRange = (broker, streamName, limit, reverse, actionCreator, callback) => {\n  const cmd = reverse ? \"xrevrange\" : \"xrange\"\n  const beginSymbol = reverse ? \"+\" : \"-\"\n  const endSymbol = reverse ? \"-\" : \"+\"\n  const fieldName = \"message\"\n  const count = 1000\n  const list = []\n\n  const cb = (error, data) => {\n    if(error) {\n      handleError(error)\n      if(callback) {\n        callback(error)\n      }\n      return\n    }\n    if(data.status !== \"ok\") {\n      handleError(data)\n      if(callback) {\n        callback(error)\n      }\n      return\n    }\n\n    try {\n      const xbatch = [];\n      let lastTs = beginSymbol\n      for(let i = 0; i < data.result.length; i++) {\n        const result = data.result[i]\n        lastTs=result[0]\n        const fieldRecord = result[1]\n        if(fieldRecord[0] !== fieldName) {\n          handleError(\"Unexpected field name: \"+fieldRecord[0])\n          if(callback) {\n            callback(error)\n          }\n          return  \n        }\n        const record = fieldRecord[1]\n        const rec = JSON.parse(record)\n        list.push(rec)\n        if(actionCreator) {\n          xbatch.push(actionCreator(rec))\n        }\n        limit--\n      }\n\n      if(xbatch.length > 0) {\n        dispatch(af.batch(xbatch))\n      }\n\n      if(limit > 0 && data.result.length >= count) {\n        lastTs = decrTs(lastTs)\n        const cnt = limit < count ? limit : count\n        broker.command(\"redis\", cmd, [streamName, lastTs, endSymbol, \"count\", cnt], cb)\n      } else {\n        if(callback) {\n          callback(null, list)\n        }\n      }\n    } catch(error) {\n      handleError(error)\n    }\n  }\n\n  const cnt = limit < count ? limit : count\n  broker.command(\"redis\", cmd, [streamName, beginSymbol, endSymbol, \"count\", cnt], cb);\n}\n\nconst readRangeList = async (broker, streamName, limit, reverse, actionCreator, callback) => {\n  const cmd = reverse ? \"xrevrange\" : \"xrange\"\n  const beginSymbol = reverse ? \"+\" : \"-\"\n  const endSymbol = reverse ? \"-\" : \"+\"\n  const fieldName = \"message\"\n  const count = 1000\n  const list = []\n\n  const cb = (error, data) => {\n    if(error) {\n      handleError(error)\n      if(callback) {\n        callback(error)\n      }\n      return\n    }\n    if(data.status !== \"ok\") {\n      handleError(data)\n      if(callback) {\n        callback(error)\n      }\n      return\n    }\n\n    try {\n      let lastTs = beginSymbol\n      for(let i = 0; i < data.result.length; i++) {\n        const result = data.result[i]\n        lastTs=result[0]\n        const fieldRecord = result[1]\n        if(fieldRecord[0] !== fieldName) {\n          handleError(\"Unexpected field name: \"+fieldRecord[0])\n          if(cb) {\n            cb(error)\n          }\n          return  \n        }\n        const record = fieldRecord[1]\n        const rec = JSON.parse(record)\n        list.push(rec);\n        limit--\n      }\n\n      if(limit > 0 && data.result.length >= count) {\n        lastTs = decrTs(lastTs)\n        const cnt = limit < count ? limit : count\n        broker.command(\"redis\", cmd, [streamName, lastTs, endSymbol, \"count\", cnt], cb);\n      } else {\n        if(reverse) {\n          list.reverse()\n        }\n        dispatch(actionCreator(list));\n        if(callback) {\n          callback(null, list)\n        }\n      }\n    } catch(error) {\n      handleError(error)\n    }\n  }\n\n  const cnt = limit < count ? limit : count\n  broker.command(\"redis\", cmd, [streamName, beginSymbol, endSymbol, \"count\", cnt], cb);\n}\n\nconst subscribe = async (broker, pattern, limit) => {\n  const batch = []\n\n  const listener = {\n    message: (data) => {\n      const message = fromJS(JSON.parse(data[\"message\"]))\n      const action = af.insert('messages', data.channel, message)\n      batch.push(action)\n      const keys = e.get(getState(), 'keys')\n      let bars = keys.get(data.channel)\n      if(bars) {\n        bars = bars.withMutations(bars => {\n          if(bars.size === 0) {\n            bars.push(message)\n          } else if(message.value) {\n            // Value, not a bar\n            bars.push(message)\n          } else {\n            // Bar with open, high, low, close\n            const lastBar = bars.last()\n            if(lastBar.get(\"timeMs\") < message.get(\"timeMs\")) {\n              bars.push(message)\n            } else if(lastBar.get(\"timeMs\") === message.get(\"timeMs\")) {\n              bars.set(-1, message)\n            }\n          }\n          while(bars.size > limit) {\n            bars.shift()\n          }\n        })\n        const action2 = af.insert('keys', data.channel, bars);\n        batch.push(action2);\n      }\n    },\n\n    flush: () => {\n      dispatch(af.batch(batch))\n      batch.length = 0\n    },\n  }\n\n  try {\n    broker.pattern = pattern\n    await broker.commandAsync(\"redis\", \"psubscribe\", [pattern], listener);\n  } catch(error) {\n    handleError(error)\n  }\n}\n\nconst readRuns = (broker, limit, callback) => {\n  readRange(broker, \"ChaserRuns\", limit, true,\n    rec => af.insert(\"runs\", rec.runId, rec),\n    (err, data) => {\n      if(!err) {\n        const map = {}\n        data.forEach(rec => map[rec.runId] = true)\n        readRange(broker, \"ChaserLogs\", 2 * limit, true,\n          null,\n          (err, data) => {\n            if(!err) {\n              const xbatch = []\n              data.reverse().filter(rec => map[rec.runId]).forEach(rec => {\n                xbatch.push(af.insert(\"runsLog\", rec.runId, rec))\n                xbatch.push(af.update(\"runs\", rec.runId, {$set: {status: rec.status, error: rec.error}}))\n              })\n              dispatch(af.batch(xbatch))\n              callback()\n            }\n          }\n        )\n      }\n    }\n  )\n}\n\nconst readKeys = async (broker, pattern, limit) => {\n  try {\n    const keysData = await broker.commandAsync(\"redis\", \"keys\", [pattern]);\n    const keys = keysData.result;\n\n    for(let i in keys) {\n      const key = keys[i]\n      if(key === \"ChaserRunId\") {\n        continue\n      }\n      readRangeList(broker, key, limit, true, list => af.insert(\"keys\", key, list))\n    }\n  } catch(error) {\n    handleError(error)\n  }\n}\n\nconst load = async (broker) => {\n  dispatch(af.reset(\"runs\"))\n  dispatch(af.reset(\"runsLog\"))\n  dispatch(af.reset(\"keys\"))\n  dispatch(af.reset(\"messages\"))\n\n  const runIdData = await broker.commandAsync(\"redis\", \"GET\", [\"ChaserRunId\"])\n  const defaultRunId = runIdData.status === \"ok\" ? runIdData.result : \"0\"\n  readRuns(broker, 1000, () => {\n    const state = getState()\n    let runId = e.get(state, \"runId\") || defaultRunId\n    dispatch(af.value(\"runId\", runId))\n    const pattern = se.get(state, \"subscriptionPattern\")\n    const limit = se.get(state, \"dataBars\")\n    const runs = e.get(state, \"runs\")\n    const run = runs.get(runId)\n    const keyPrefix = run.get(\"keyPrefix\")\n    readKeys(broker, keyPrefix+\":Tws*:*\", limit)\n    subscribe(broker, keyPrefix+\":Tws*:*\", limit)\n    readKeys(broker, keyPrefix+\":\"+pattern, limit)\n    subscribe(broker, keyPrefix+\":\"+pattern, limit)\n  })\n}\n\nconst OnConnectionOpen = (id, broker) => {\n\n  if(!broker) {\n    return\n  }\n\n  load(broker)\n}\n\nconst OnConnectionClose = (id) => {}\n\nconst updateBrokers = () => {\n  let conns = e.get(getState(), 'connections');\n\n  if(conns.size === 0) {\n    // Empty list - add s default connection\n    const url = \"wss://\"+window.location.host+\"/xbroker/\"\n    mapDispatchToProps(dispatch, {}).addConnection(fromJS({url, state: 'created', message: ''}))\n    conns = e.get(getState(), 'connections')\n  }\n  conns.forEach((conn) => {\n    const id = conn.get(\"id\")\n    if(!brokers[id]) {\n      const props = {\n        username: \"xbroker\",\n        password: \"xbroker\",\n        maxSentCommandsCnt: 16,\n        timeoutMs: 60000,\n\n        changeState: (state) => {\n          if(!brokers[id]) {\n            return;\n          }\n          const action = af.update('connections', id, {$set: {state}})\n          dispatch(action)\n          if(state === 'open') {\n            OnConnectionOpen(id, brokers[id])\n          }\n        },\n        setMessage: (message) => {\n          if(!brokers[id]) {\n            return;\n          }\n          const action = af.update('connections', id, {$set: {message}})\n          dispatch(action)\n        },\n      };\n      const url = conn.get(\"url\");\n      brokers[id] = createClient(url, props)\n    }\n  })\n}\n\nexport const reload = () => {\n  const conns = e.get(getState(), 'connections')\n  conns.forEach(async (conn) => {\n    const id = conn.get(\"id\")\n    const broker = brokers[id]\n    if(!broker) {\n      return\n    }\n    const pattern = broker.pattern\n    if(pattern) {\n      const batch = []\n\n      const listener = {\n        message: (data) => {\n          const message = fromJS(JSON.parse(data[\"message\"]))\n          const action = af.insert('messages', data.channel, message)\n          batch.push(action)\n        },\n    \n        flush: () => {\n          dispatch(af.batch(batch))\n          batch.length = 0\n        },\n      }\n    \n      try {\n        await broker.commandAsync(\"redis\", \"punsubscribe\", [pattern], listener)\n        await load(broker)\n      }\n      catch(error) {\n        handleError(error)\n      }\n    }\n  })\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  connections: e.get(state, 'connections'),\n  connectionsCnt: e.get(state, 'connectionsCnt'),\n})\n\nconst mapRepoToProps = (repo, ownProps) => mapStateToProps(e.head(repo), ownProps)\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  addConnection: (connection) => {\n    const connectionId = e.get(getState(), 'connectionId')\n    const id = \"conn\"+connectionId;\n    connection = connection.set(\"id\", id);\n    const action1 = af.value('connectionId', (connectionId+1))\n    const action2 = af.insert('connections', id, connection)\n    const action = af.batch([action1, action2])\n    dispatch(action)\n    updateBrokers();\n  },\n  removeConnection: (id) => {\n    const broker = brokers[id]\n    if(broker) {\n      delete brokers[id]\n      broker.close()\n      OnConnectionClose(id)\n    }\n    const action = af.remove('connections', id)\n    dispatch(action)\n  },\n})\n\nconst ConnectionsContainer = connect(\n  mapRepoToProps,\n  mapDispatchToProps\n)\n\nupdateBrokers()\n\nexport default ConnectionsContainer\n","import { connect } from 'react-redux'\n\nimport { engine /*, getState */} from '../../engine'\n\nimport { reload } from '../Connections/ConnectionsContainer'\n\nconst e = engine.subEngine('home')\n// const af = e.actionFactory();\nconst ce = engine.subEngine('connections')\nconst caf = ce.actionFactory();\nconst se = engine.subEngine('settings')\n// const saf = se.actionFactory();\n\nconst mapStateToProps = (state, cState, sState, ownProps) => ({\n  devMode: sState.get(\"devMode\"),\n  runsCnt: cState.get(\"runsCnt\"),\n  runId: cState.get(\"runId\"),\n  runs: cState.get(\"runsView\"),\n  messages: cState.get(\"messagesView\"),\n  keysCnt: cState.get(\"keysCnt\"),\n  keys: cState.get(\"keys\"),\n})\n\nconst mapRepoToProps = (repo, ownProps) => mapStateToProps(e.get(e.head(repo)), ce.get(ce.head(repo)), se.get(se.head(repo)), ownProps)\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setRunId: runId => {\n    dispatch(caf.value(\"runId\", runId))\n    reload()\n  }\n})\n\nconst HomeContainer = connect(\n  mapRepoToProps,\n  mapDispatchToProps\n)\n\nexport default HomeContainer\n","import React, { Component } from 'react'\n\nimport Select from 'react-select'\n\nexport default class RunsSetting extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      options: [],\n      optionsMap: {},\n    }\n  }\n\n  refresh(runs) {\n    const options = []\n    const optionsMap = {}\n\n    runs.forEach((value, key) => {\n      const option = {value: value.get(\"runId\"), label: \"RunId: \" + value.get(\"runId\") + \" - \" + value.get(\"time\") + \", \" + (value.getIn([\"options\", \"replayMode\"])?\"replay\":\"real time\") + \", \" + value.get(\"status\")}\n      options.push(option)\n      optionsMap[key] = option\n    })\n\n    this.setState({options, optionsMap})\n  }\n\n  componentDidMount() {\n    const { runs } = this.props\n\n    this.refresh(runs)\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { runs } = this.props\n\n    if(prevProps.runs !== runs) {\n      this.refresh(runs)\n    }\n  }\n\n  handleChange = selectedOption => {\n    this.props.setRunId(selectedOption.value)\n  }\n\n  render() {\n    const { options, optionsMap } = this.state\n    const selectedOption = optionsMap[this.props.runId] || options[0]\n\n    return (\n      <span style={{width: 150}}>\n        <Select \n            value={selectedOption}\n            onChange={this.handleChange}\n            options={options}\n        />\n      </span>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport RunsSetting from './components/RunsSetting'\n\n// import css from './HomePage.module.css'\nimport { List } from 'immutable-sorted'\n\nimport '../Table/Table.css'\n\nimport ReactJson from 'react-json-view'\n\nconst errSort = (a, b) => b.get(\"twsTimeMs\") - a.get(\"twsTimeMs\")\n\nexport default class HomePage extends Component {\n  renderCnt = 0\n  cache = {}\n\n  render() {\n    const { cache, props } = this\n    const { runId, runs, keys, messages, setRunId } = props\n    if(!runId) {\n      return null\n    }\n    const hostname = window.location.hostname\n    const run = runs.get(runId)\n    if(!run) {\n      return null\n    }\n    const keyPrefix = run.get(\"keyPrefix\")\n    const errors = keys.get(keyPrefix+\":TwsErrorsLog::\") || List()\n    const time = messages.get(keyPrefix+\":TwsTime::\")\n    this.renderCnt++\n\n    let { runsSetting, runConfig, runErrTable, runErrorsSize } = cache\n    if(cache.runId !== runId || cache.runs !== runs) {\n      const frun = runs.filter(value => value.get(\"runId\") === runId)\n      runsSetting = <table style={{maxWidth:\"100%\"}} className=\"minimalistBlack\">\n        <thead>\n          <tr>\n            <td colSpan={5}>\n              <RunsSetting runs={runs} runId={runId} setRunId={setRunId} />\n            </td>\n          </tr>\n          <tr>\n            <th>RunID</th>\n            <th>Time</th>\n            <th>Type</th>\n            <th>Status</th>\n            <th>Error</th>\n          </tr>\n        </thead>\n        <tbody>\n        {frun.map((value, key)=><tr key={key}>\n          <td>{value.get(\"runId\")}</td>\n          <td>{value.get(\"time\")}</td>\n          <td>{value.getIn([\"options\", \"replayMode\"])?\"replay\":\"real time\"}</td>\n          <td>{value.get(\"status\")}</td>\n          <td>{value.get(\"error\")}</td>\n        </tr>).toSetSeq()}\n        </tbody>\n      </table>\n\n      runConfig = <table style={{maxWidth:\"100%\"}} className=\"minimalistBlack\">\n        <tbody>\n          {frun.valueSeq().map((run, i) => <tr key={i}><td><ReactJson name={false} collapsed={2} src={run.toJS()} /></td></tr>)}\n        </tbody>\n      </table>\n    }\n\n    if(cache.runId !== runId || cache.runs !== runs || cache.errors !== errors) {\n      const runErrors = errors.filter(rec => rec.get(\"runId\") === runId).sort(errSort)\n      runErrorsSize = runErrors.size\n      runErrTable = <table style={{maxWidth:\"100%\"}} className=\"minimalistBlack\">\n        <thead>\n          <tr>\n            <th>RunId</th>\n            <th>Time</th>\n            <th>Type</th>\n            <th>Subscription</th>\n            <th>Error</th>\n          </tr>\n        </thead>\n        <tbody>\n        {runErrors.map((e, key) => {\n          const sub = e.get(\"subscription\")\n          return <tr key={key}>\n            <td>{e.get(\"runId\")}</td>\n            <td>{e.get(\"twsTime\")}</td>\n            <td>{e.get(\"type\")}</td>\n            <td>{sub && sub.getIn([\"contract\", \"name\"])}{sub && \":\"+sub.getIn([\"item\"])+\"\"}{sub && \" (\"+sub.getIn([\"contract\", \"secType\"])+\"-\"+sub.getIn([\"contract\", \"exchange\"])+\"-\"+sub.getIn([\"contract\", \"currency\"])+\")\"}</td>\n            <td style={{maxWidth: 600}}>{e.get(\"errorMsg\").substr(0, 200).replace(/\\//g, \" / \")}</td>\n          </tr>\n        }).toSetSeq()}\n        </tbody>\n      </table>\n    }\n\n    this.cache = {runId, runs, errors, runsSetting, runConfig, runErrTable, runErrorsSize}\n\n    return (\n    <div>\n      {props.devMode?<p><b>RenderCnt: {this.renderCnt}</b></p>:null}\n      <h3>Server {hostname}</h3>\n      <p/>\n      Keys Count: {this.props.keysCnt}\n      <p/>\n      <h3>RunId: {runId}, TWS Time: {time && time.get(\"twsTime\")}</h3>\n      <p/>\n      <h3>Runs ({props.runsCnt})</h3>\n      <p/>\n      {runsSetting}\n      <p/>\n      <h3>Config</h3>\n      <p/>\n      {runConfig}\n      <p/>\n      <h3>Errors ({runErrorsSize})</h3>\n      {runErrTable}\n    </div>\n    )\n  }\n}\n","import { connect } from 'react-redux'\n\nimport { engine , getState } from '../../engine'\n\nconst e = engine.subEngine('dash')\nconst af = e.actionFactory();\nconst ce = engine.subEngine('connections')\n// const caf = ce.actionFactory();\nconst se = engine.subEngine('settings')\n// const saf = se.actionFactory();\n\nconst mapStateToProps = (state, cState, sState, ownProps) => ({\n  symbolFilter: state.get(\"symbolFilter\"),\n  devMode: sState.get(\"devMode\"),\n  runId: cState.get(\"runId\"),\n  runs: cState.get(\"runs\"),\n  messages: cState.get(\"messagesView\"),\n  keysCnt: cState.get(\"keysCnt\"),\n  keys: cState.get(\"keys\"),\n  dataBars: sState.get(\"dataBars\"),\n  displayBars: sState.get(\"displayBars\"),\n})\n\nconst mapRepoToProps = (repo, ownProps) => mapStateToProps(e.get(e.head(repo)), ce.get(ce.head(repo)), se.get(se.head(repo)), ownProps)\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  changeSymbolFilter: (symbolFilter) => dispatch(af.value(\"symbolFilter\", symbolFilter))\n})\n\nconst HomeContainer = connect(\n  mapRepoToProps,\n  mapDispatchToProps\n)\n\nexport const getRefreshRateMs = () => {\n  const ms = se.get(getState()).get(\"refreshRateMs\")\n  return ms\n}\n\nexport default HomeContainer\n","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\n\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport {\n\t// BarSeries,\n\tCandlestickSeries,\n} from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport {\n\tCrossHairCursor,\n\tEdgeIndicator,\n\t// CurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n} from \"react-stockcharts/lib/coordinates\";\n\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport { OHLCTooltip } from \"react-stockcharts/lib/tooltip\";\n// import { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\n\nclass CandleStickChartForDiscontinuousIntraDay extends React.Component {\n\trender() {\n\t\tconst { type, data: initialData, width, ratio } = this.props;\n\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\n\t\t\t.inputDateAccessor(d => d.date);\n\t\tconst {\n\t\t\tdata,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = xScaleProvider(initialData);\n\t\tconst start = xAccessor(last(data));\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\n\t\tconst xExtents = [start, end];\n\n\t\treturn (\n\t\t\t<ChartCanvas height={160}\n\t\t\t\tratio={ratio}\n\t\t\t\twidth={width}\n\t\t\t\tmargin={{ left: 40, right: 80, top: 10, bottom: 30 }}\n\t\t\t\ttype={type}\n\t\t\t\tseriesName=\"Chaser\"\n\t\t\t\tdata={data}\n\t\t\t\txScale={xScale}\n\t\t\t\txAccessor={xAccessor}\n\t\t\t\tdisplayXAccessor={displayXAccessor}\n                xExtents={xExtents}\n                style={{position: \"relative\"}}\n\t\t\t>\n\t\t\t\t{/* <Chart id={2}\n\t\t\t\t\tyExtents={[d => d.volume]}\n\t\t\t\t\theight={150} origin={(w, h) => [0, h - 150]}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\n\n\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\n\n\t\t\t\t\t<CurrentCoordinate yAccessor={d => d.volume} fill=\"#9B0A47\" />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.volume} displayFormat={format(\".4s\")} fill=\"#0F0F0F\"/>\n\t\t\t\t</Chart> */}\n\t\t\t\t<Chart id={1}\n\t\t\t\t\tyExtents={[d => [d.high, d.low]]}\n\t\t\t\t\tpadding={{ top: 40, bottom: 20 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"/>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} />\n\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\trectWidth={60}\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%H:%M:%S\")} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<CandlestickSeries />\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\"7,.2f\")}\n\t\t\t\t\t\trectWidth={80}\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, 0]} xDisplayFormat={timeFormat(\"%Y-%m-%d %H:%M:%S\")}/>\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\n\nCandleStickChartForDiscontinuousIntraDay.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartForDiscontinuousIntraDay.defaultProps = {\n\ttype: \"svg\",\n};\n\n// CandleStickChartForDiscontinuousIntraDay = fitWidth(CandleStickChartForDiscontinuousIntraDay);\n\nexport default CandleStickChartForDiscontinuousIntraDay;","/**\n *  Copyright (c) 2018, AMI System, LLC\n *  All rights reserved.\n *\n *  This source code is licensed under the MIT-style license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport './ChangeSymbolFilter.css'\n\ntype Props = {\n  symbolFilter: string,\n  changeSymbolFilter: (string) => void,\n}\n\nexport default (props: Props) => {\n  const {symbolFilter, changeSymbolFilter} = props\n  let input: ?{value: string} = {value: symbolFilter}\n\n  const onSubmit = e => {\n    e.preventDefault()\n    if (!input) {\n      return\n    }\n    changeSymbolFilter(input.value.trim())\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n    <label>Filter:&nbsp;</label>\n    <input className=\"ChangeSymbolFilter-input\" defaultValue={symbolFilter} ref={node => {input = node}} />\n    <button className=\"ChangeSymbolFilter-input\" type=\"submit\">\n    <FontAwesomeIcon icon=\"filter\"/>\n    </button>\n    </form>\n  )\n}\n","import React, { Component } from 'react'\n\nimport Chart from '../components/Chart'\n\nimport throttle from 'react-throttle-render'\n\nimport css from './DashPage.module.css'\n\nimport ChangeSymbolFilter from './components/ChangeSymbolFilter'\n\nimport { getRefreshRateMs } from './DashContainer'\n\n// import '../Table/Table.css'\n\nclass DashPage extends Component {\n  renderCnt = 0\n  cache = {}\n\n  render() {\n    const { symbolFilter, displayBars, changeSymbolFilter, runId, runs } = this.props\n    if(!runId) {\n      return null\n    }\n    this.renderCnt++\n    const run = runs.get(runId)\n    if(!run) {\n      return null\n    }\n    const keyPrefix = run.get(\"keyPrefix\")\n    const time = this.props.messages.get(keyPrefix+\":TwsTime::\")\n    const filter = (symbolFilter || \"\").toLowerCase()\n    return (\n    <div>\n      {this.props.devMode?<p><b>RenderCnt: {this.renderCnt}</b></p>:null}\n      Keys Count: {this.props.keysCnt}\n      <p/>\n      <h3>RunId: {runId}, TWS Time: {time && time.get(\"twsTime\")}</h3>\n      <p/>\n      <ChangeSymbolFilter symbolFilter={symbolFilter} changeSymbolFilter={changeSymbolFilter} />\n      <p/>\n      {this.props.keys\n        .filter((data, k)=>k.startsWith(keyPrefix+\":\") && !k.endsWith(\"::\") && data.size > 1)\n        // .filter((data, k)=>k.startsWith(\"20:\") && data.size > 1)\n        .filter((data, k)=>k.toLowerCase().indexOf(filter) >= 0)\n        .sortBy((v, k)=>{\n          const ka = k.split(\":\")\n          return ka[2]+\":\"+ka[3]+\":\"+ka[1]+\":\"+ka[0]\n        })\n        .slice(0, 1000)\n        .map((data, key)=>{\n          let ch = this.cache[key]\n          if(!ch) {\n            ch = {data: null, updateCnt: 0}\n            this.cache[key] = ch\n          }\n          if(ch.data === data) {\n            return ch.obj\n          }\n\n          ch.updateCnt++\n          ch.data = data\n          // const value = data.last()\n          const jsData = data\n          .slice(displayBars <= data.size ? data.size - displayBars : 0)\n          .toJS()\n          .map(v => v.value ? \n            {\n              date: new Date(v.timeMs),\n              open: v.value,\n              high: v.value,\n              low: v.value,\n              close: v.value,\n              volume: v.volume,\n            } : {\n            date: new Date(v.timeMs),\n            open: v.open,\n            high: v.high,\n            low: v.low,\n            close: v.close,\n            volume: v.volume,\n          })\n          const obj = <div key={key} className={css.chart}>\n            <p>{key} ({ch.updateCnt})</p>\n            {/* <p>{value.get(\"close\").toString().padStart(10, \" \").substring(0, 10)}</p> */}\n            {/* <p>{value.get(\"lastUpdateTime\") || value.get(\"twsTime\")}</p> */}\n            <div><Chart width={380} ratio={1} data={jsData}/></div>\n          </div>\n          ch.obj = obj\n          return obj\n      }).toSetSeq()}\n    </div>\n    )\n  }\n}\n\nconst refreshRateMs = getRefreshRateMs()\nconst ThrottledComponent = throttle(refreshRateMs)(DashPage)\nexport default ThrottledComponent\n","import { connect } from 'react-redux'\n\nimport { engine } from '../../engine'\n\nimport { reload } from '../Connections/ConnectionsContainer'\n\nconst e = engine.subEngine('settings')\nconst af = e.actionFactory();\n\nconst mapStateToProps = (state, repoHead, ownProps) => ({\n  dataBars: state.get(\"dataBars\"),\n  displayBars: state.get(\"displayBars\"),\n  subscriptionPattern: state.get(\"subscriptionPattern\"),\n  refreshRateMs: state.get(\"refreshRateMs\"),\n  devMode: state.get(\"devMode\"),\n})\n\nconst mapRepoToProps = (repo, ownProps) => mapStateToProps(e.get(e.head(repo)), e.head(repo), ownProps)\n \nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  setDataBars: (dataBars) => {\n    dispatch(af.value(\"dataBars\", dataBars))\n  },\n\n  setDisplayBars: (displayBars) => {\n    dispatch(af.value(\"displayBars\", displayBars))\n  },\n\n  setSubscriptionPattern: (subscriptionPattern) => {\n    dispatch(af.value(\"subscriptionPattern\", subscriptionPattern))\n    reload()\n  },\n\n  setRefreshRateMs: (refreshRateMs) => {\n    dispatch(af.value(\"refreshRateMs\", refreshRateMs))\n  },\n\n  setDevMode: (checked) => {\n    dispatch(af.value(\"devMode\", checked))\n  },\n})\n\nconst SettingsContainer = connect(\n  mapRepoToProps,\n  mapDispatchToProps\n)\n\nexport default SettingsContainer\n","import React, { Component } from 'react'\n\nexport default class SubscriptionPatternSetting extends Component {\n\n  render() {\n    const { subscriptionPattern, setSubscriptionPattern } = this.props\n\n    let input: ?{value: string} = {value: subscriptionPattern}\n\n    const onSubmit = e => {\n      e.preventDefault()\n      if (!input) {\n        return\n      }\n      setSubscriptionPattern(input.value.trim())\n    }\n  \n    return (\n    <div>\n      <form onSubmit={onSubmit}>\n      <input className=\"AddConnection-input\" defaultValue={subscriptionPattern} ref={node => {input = node}} style={{width: 150}}/>\n      <button className=\"AddConnection-input\" type=\"submit\">\n      >\n      </button>\n      </form>\n    </div>\n    )\n  }\n}\n","export const DataBarsOptions = {\n    \"1\": { value: 1, label: \"1\"},\n    \"5\": { value: 5, label: \"5\"},\n    \"10\": { value: 10, label: \"10\"},\n    \"50\": { value: 50, label: \"50\"},\n    \"100\": { value: 100, label: \"100\"},\n    \"500\": { value: 500, label: \"500\"},\n    \"1000\": { value: 1000, label: \"1,000\"},\n    \"5000\": { value: 5000, label: \"5,000\"},\n    \"10000\": { value: 10000, label: \"10,000\"},\n    \"50000\": { value: 50000, label: \"50,000\"},\n    \"100000\": { value: 100000, label: \"100,000\"},\n    \"500000\": { value: 500000, label: \"500,000\"},\n    \"1000000\": { value: 1000000, label: \"1,000,000\"},\n}\n\n","import React, { Component } from 'react'\n\nimport { DataBarsOptions } from './DataBarsOptions'\n\nimport Select from 'react-select'\n\nexport default class DataBarsSetting extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.options = []\n    Object.keys(DataBarsOptions).map(key => this.options.push(DataBarsOptions[key]))\n  }\n\n  handleChange = selectedOption => {\n    this.props.setDataBars(selectedOption.value)\n  }\n\n  customStyles = {\n    option: (provided, state) => ({\n      ...provided,\n      textAlign: \"right\",\n    }),\n    control: (provided) => ({\n      ...provided,\n    }),\n    singleValue: (provided, state) => ({\n      ...provided,\n    }),\n  }\n\n  render() {\n    const selectedOption = DataBarsOptions[this.props.dataBars.toString()]\n\n    return (\n      <div style={{width: 150}}>\n        <Select\n          styles={this.customStyles}\n          value={selectedOption}\n          onChange={this.handleChange}\n          options={this.options}\n        />\n      </div>\n    )\n  }\n}\n","export const DisplayBarsOptions = {\n    \"1\": { value: 1, label: \"1\"},\n    \"2\": { value: 2, label: \"2\"},\n    \"3\": { value: 3, label: \"3\"},\n    \"4\": { value: 4, label: \"4\"},\n    \"5\": { value: 5, label: \"5\"},\n    \"10\": { value: 10, label: \"10\"},\n    \"15\": { value: 15, label: \"15\"},\n    \"20\": { value: 20, label: \"20\"},\n    \"25\": { value: 25, label: \"25\"},\n    \"50\": { value: 50, label: \"50\"},\n    \"75\": { value: 75, label: \"75\"},\n    \"100\": { value: 100, label: \"100\"},\n    \"250\": { value: 250, label: \"250\"},\n    \"500\": { value: 500, label: \"500\"},\n    \"1000\": { value: 1000, label: \"1,000\"},\n    \"5000\": { value: 5000, label: \"5,000\"},\n    \"10000\": { value: 10000, label: \"10,000\"},\n    \"50000\": { value: 50000, label: \"50,000\"},\n    \"100000\": { value: 100000, label: \"100,000\"},\n    \"500000\": { value: 500000, label: \"500,000\"},\n    \"1000000\": { value: 1000000, label: \"1,000,000\"},\n}\n\n","import React, { Component } from 'react'\n\nimport { DisplayBarsOptions } from './DisplayBarsOptions'\n\nimport Select from 'react-select'\n\nexport default class DisplayBarsSetting extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.options = []\n    Object.keys(DisplayBarsOptions).map(key => this.options.push(DisplayBarsOptions[key]))\n  }\n\n  handleChange = selectedOption => {\n    this.props.setDisplayBars(selectedOption.value)\n  }\n\n  customStyles = {\n    option: (provided, state) => ({\n      ...provided,\n      textAlign: \"right\",\n    }),\n    control: (provided) => ({\n      ...provided,\n    }),\n    singleValue: (provided, state) => ({\n      ...provided,\n    }),\n  }\n\n  render() {\n    const selectedOption = DisplayBarsOptions[this.props.displayBars.toString()]\n\n    return (\n      <div style={{width: 150}}>\n        <Select\n          styles={this.customStyles}\n          value={selectedOption}\n          onChange={this.handleChange}\n          options={this.options}\n        />\n      </div>\n    )\n  }\n}\n","export const RefreshRateMsOptions = {\n    \"10\": { value: 10, label: \"10ms\"},\n    \"20\": { value: 20, label: \"20ms\"},\n    \"50\": { value: 50, label: \"50ms\"},\n    \"100\": { value: 100, label: \"100ms\"},\n    \"200\": { value: 200, label: \"200ms\"},\n    \"500\": { value: 500, label: \"500ms\"},\n    \"1000\": { value: 1000, label: \"1s\"},\n    \"2000\": { value: 2000, label: \"2s\"},\n    \"5000\": { value: 5000, label: \"5s\"},\n    \"10000\": { value: 10000, label: \"10s\"},\n    \"30000\": { value: 30000, label: \"30s\"},\n    \"60000\": { value: 60000, label: \"60s\"},\n}\n\n","import React, { Component } from 'react'\n\nimport { RefreshRateMsOptions } from './RefreshRateMsOptions'\n\nimport Select from 'react-select'\n\nexport default class RefreshRateMsSetting extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.options = []\n    Object.keys(RefreshRateMsOptions).map(key => this.options.push(RefreshRateMsOptions[key]))\n  }\n\n  handleChange = selectedOption => {\n    this.props.setRefreshRateMs(selectedOption.value)\n  }\n\n  customStyles = {\n    option: (provided, state) => ({\n      ...provided,\n      textAlign: \"right\",\n    }),\n    control: (provided) => ({\n      ...provided,\n    }),\n    singleValue: (provided, state) => ({\n      ...provided,\n    }),\n  }\n\n  render() {\n    const selectedOption = RefreshRateMsOptions[this.props.refreshRateMs.toString()]\n\n    return (\n      <div style={{width: 150}}>\n        <Select\n          styles={this.customStyles}\n          value={selectedOption}\n          onChange={this.handleChange}\n          options={this.options}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ReactSwitch from 'react-switch'\n\nimport css from './CheckboxGroup.module.css'\n\nexport default class CheckboxGroup extends Component {\n  \n  devModeChange(checked) {\n    this.props.setDevMode(checked)\n  }\n\n  render() {\n    const props = this.props\n    const switchHeight = 20\n    const switchWidth = 40\n\n    return (\n      <table>\n        <tbody>\n        <tr>\n          <td className={css.right}>\n            Dev Mode:\n          </td>\n          <td>\n            <ReactSwitch className={css.switch} onChange={this.devModeChange.bind(this)} height={switchHeight} width={switchWidth} checked={props.devMode}/>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    )\n  }\n}\n","export default function getBrowserName() {\n    const names = [\"Edge\", \"Firefox\", \"Safari\", \"Chrome\", \"Opera\"]\n    const ua = navigator.userAgent\n\n    for(let n = names.length - 1; n >= 0; n--) {\n        const name = names[n]\n        const i = ua.indexOf(name)\n        if(i >= 0) {\n            let j = i + name.length\n            let k = j\n            if(ua[j] === '/') {\n                j++\n                k = ua.indexOf(' ', j)\n                if(k < 0) {\n                    k = ua.length\n                }\n            }\n            return name + \" \" + ua.substring(j, k)\n        }\n    }\n\n    return \"Unknown\"\n}\n","import getBrowserName from './getBrowserName'\n\nfunction hasAsync() {\n    try {\n        // eslint-disable-next-line no-new-func\n        new Function('async () => {}')();\n    } catch (error) {\n        return false\n    }\n\n    return true\n}\n\nexport default function getBrowserFeatures() {\n    const bf = {\n        name: getBrowserName(),\n        language: navigator.language,\n        platform: navigator.platform,\n        hasAsync: hasAsync(),\n        abortController: !!window.AbortController,\n        webWorker: !!window.Worker,\n        webAssembly: typeof WebAssembly === \"object\",\n    }\n\n    bf.isOutdatedBrowser = !(bf.hasAsync &&\n        bf.abortController &&\n        bf.webWorker &&\n        bf.webAssembly)\n\n    return bf\n}\n","import React from 'react'\n\nimport css from './Category.module.css'\n\nconst Cat2Color = (cat) => {\n  let color\n  switch(cat) {\n    case \"SF\":\n        color = \"#ff4e4e\" // red\n        break\n    case \"4\":\n        color = \"#cf9cff\" // magenta\n        break\n    case \"3+2\":\n        color = \"#9c9cff\" // blue\n        break\n    case \"F\":\n        color = \"#ff9c9c\" // red\n        break\n    case \"S\":\n        color = \"#9cffff\" // cyan\n        break\n    case \"3\":\n        color = \"#9cff9c\" // green\n        break\n    case \"2+2\":\n        color = \"#ffcf9c\" // orange\n        break\n    case \"2\":\n        color = \"#ffff9c\" // yellow\n        break\n    case \"1\":\n        color = \"white\"\n        break\n    case \"error\":\n        color = \"pink\" // \"#ff1010\"\n        break\n    default:\n      color = \"grey\"\n      break\n  }\n  return color\n}\n\nconst Cat2Cn = (cat) => {\n  let cn\n  switch(cat) {\n    case \"error\":\n      cn = css.err\n      break\n    default:\n      cn = css.cat\n      break\n  }\n\n  return cn\n}\n\nconst Category = (props) => (\n  <span title={props.category} style={{...props.style, backgroundColor: Cat2Color(props.cat)}} className={Cat2Cn(props.cat)}>\n    &nbsp;\n    {props.children}\n    &nbsp;\n  </span>\n)\n\nexport default Category\n","import React, { Component } from 'react'\n\nimport isMobileDevice from '../../utils/isMobileDevice'\nimport getBrowserFeatures from '../../utils/getBrowserFeatures'\nimport Category from \"./Category\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport '../Table/Table.css'\n\nexport default class BrowserFeatures extends Component {\n    isMobileDevice\n    browserFeatures\n\n    constructor(props) {\n        super(props)\n        this.isMobileDevice = isMobileDevice()\n        this.browserFeatures = getBrowserFeatures()\n    }\n\n    render() {\n        return (<div>\n            {this.browserFeatures.isOutdatedBrowser ? \n            <div>\n                <Category style={{height: 36}} cat=\"error\">\n                    <FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>\n                    &nbsp;\n                    Missing Critical Features\n                    &nbsp;\n                    <FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>\n                    <br/>\n                    Please Update Your Web Browser\n                </Category>\n                <br/>\n                <br/>\n            </div> : null}\n            <table className=\"minimalistBlack\">\n                <thead>\n                    <tr>\n                        <th className=\"center\">\n                            Feature\n                        </th>\n                        <th className=\"center\">\n                            Value\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td className=\"right\">\n                            name:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.name}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            language:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.language}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            platform:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.platform}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            mobile:\n                        </td>\n                        <td className=\"center\">\n                            {this.isMobileDevice?\"Yes\":\"No\"}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            async/await:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.hasAsync?<FontAwesomeIcon color=\"green\" icon=\"check\"/>:<FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            abort controller:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.abortController?<FontAwesomeIcon color=\"green\" icon=\"check\"/>:<FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            web worker:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.webWorker?<FontAwesomeIcon color=\"green\" icon=\"check\"/>:<FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"right\">\n                            web assembly:\n                        </td>\n                        <td className=\"center\">\n                            {this.browserFeatures.webAssembly?<FontAwesomeIcon color=\"green\" icon=\"check\"/>:<FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\"/>}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n        </div>)\n    }\n}\n","export default function isMobileDevice() {\n  return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n}","import React, { Component } from 'react'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport css from './SettingsButtons.module.css'\n\nexport default class SettingsButtons extends Component {\n\n  render() {\n    return <div>\n    <a \n      href=\"?reset=true\"\n      title=\"Reset App Data\"\n      rel=\"noopener noreferrer\"\n    >\n      <button className={css.button}><FontAwesomeIcon icon=\"trash-restore\"/></button>\n    </a>\n    </div>\n  }\n\n}\n","import React, { Component } from 'react'\n\nimport SubscriptionPatternSetting from './components/SubscriptionPatternSetting'\nimport DataBarsSetting from './components/DataBarsSetting'\nimport DisplayBarsSetting from './components/DisplayBarsSetting'\nimport RefreshRateMsSetting from './components/RefreshRateMsSetting'\nimport CheckboxGroup from './components/CheckboxGroup'\nimport BrowserFeatures from '../components/BrowserFeatures'\nimport SettingsButtons from './components/SettingsButtons'\n\nexport default class SettingsPage extends Component {\n\n  render() {\n    const props = this.props\n\n    return (\n    <div>\n    <h3>\n      Settings\n    </h3>\n    <h4>\n    <table>\n      <tbody>\n        <tr>\n          <td style={{textAlign: \"right\"}}>\n          Subscription:&nbsp;\n          </td>\n          <td>\n            <SubscriptionPatternSetting {...props}/>\n          </td>\n        </tr>\n        <tr>\n          <td style={{textAlign: \"right\"}}>\n          Data Bars:&nbsp;\n          </td>\n          <td>\n            <DataBarsSetting {...props}/>\n          </td>\n        </tr>\n        <tr>\n          <td style={{textAlign: \"right\"}}>\n          Display Bars:&nbsp;\n          </td>\n          <td>\n            <DisplayBarsSetting {...props}/>\n          </td>\n        </tr>\n        <tr>\n          <td style={{textAlign: \"right\"}}>\n          Refresh Rate:&nbsp;\n          </td>\n          <td>\n            <RefreshRateMsSetting {...props}/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    </h4>\n    <h3>\n      Options\n    </h3>\n    <h4>\n      <CheckboxGroup {...props}/>\n    </h4>\n    <h3>\n      Browser Features\n    </h3>\n    <h4>\n      <BrowserFeatures/>\n    </h4>\n    <h3>\n      Reset App Data\n    </h3>\n    <h4>\n      <SettingsButtons/>\n    </h4>\n    </div>\n  )\n  }\n}\n","import React from 'react'\n\nconst CreditsPage = (props) => {\n  const origin = window.location.origin\n\n  return <div>\n    <h2>Links</h2>\n    <h3><a href={origin+\"/\"} target=\"_blank\" rel=\"noopener noreferrer\">Chaser GUI</a></h3><p>graphical user interface</p>\n    &bull;\n    <h3><a href={origin+\"/portainer\"} target=\"_blank\" rel=\"noopener noreferrer\">Portainer</a></h3><p>manage chaser containers</p>\n    &bull;\n    <h3><a href={origin+\"/monit\"} target=\"_blank\" rel=\"noopener noreferrer\">Monit</a></h3><p>monitor chaser engine</p>\n    &bull;\n    <h3><a href={origin+\"/email\"} target=\"_blank\" rel=\"noopener noreferrer\">Email</a></h3><p>view chaser mailbox</p>\n    &bull;\n    <h3><a href={origin+\"/redis\"} target=\"_blank\" rel=\"noopener noreferrer\">Redis Commander</a></h3><p>observe live data in redis database</p>\n    <p>&nbsp;</p>\n    <h2>Credits</h2>\n    <h3><a href=\"https://facebook.github.io/create-react-app/\" target=\"_blank\" rel=\"noopener noreferrer\">Create React App</a></h3>\n    &bull;\n    <h3><a href=\"https://fontawesome.com\" target=\"_blank\" rel=\"noopener noreferrer\">Font Awesome</a></h3>\n    <p>&nbsp;</p>\n  </div>\n}\n\nexport default CreditsPage\n","/**\n *  Copyright (c) 2018, AMI System, LLC\n *  All rights reserved.\n *\n *  This source code is licensed under the MIT-style license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React from 'react'\nimport { fromJS } from 'immutable-sorted'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport './AddConnection.css'\n\ntype Props = {\n  addConnection: (connection: any) => void\n}\n\nexport default (props: Props) => {\n  const {addConnection} = props\n  let input: ?{value: string}\n\n  const onSubmit = e => {\n    e.preventDefault()\n    if (!input || !input.value.trim()) {\n      return\n    }\n    addConnection(fromJS({url: input.value, state: 'created', message: ''}))\n    input.value = ''\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n    <input className=\"AddConnection-input\" ref={node => {input = node}} />\n    <button className=\"AddConnection-input\" type=\"submit\">\n    <FontAwesomeIcon icon=\"plus\"/>\n    </button>\n    </form>\n  )\n}\n","/**\n *  Copyright (c) 2018, AMI System, LLC\n *  All rights reserved.\n *\n *  This source code is licensed under the MIT-style license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport React, { Component } from 'react';\nimport { Map } from 'immutable-sorted'\n\nimport { AddConnection } from './components'\n\nimport type { Connection } from 'xbroker';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport './ConnectionsPage.css'\n\ntype Props = {\n  connections: Map<number, Connection>,\n  connectionsCnt: Map<string, number>,\n  addConnection: (connection: Connection) => void,\n  removeConnection: (id: string) => void\n}\n\nexport default class ConnectionsPage extends Component<Props> {\n  removeConnection(id: string) {\n    this.props.removeConnection(id)\n  }\n\n  renderStateIcon(state: string) {\n    var icon\n    switch(state) {\n      case 'open': {\n        icon = <FontAwesomeIcon color=\"blue\" icon=\"wifi\" title=\"Open\"/>\n        break\n      }\n      default: {\n        icon = <FontAwesomeIcon color=\"red\" icon=\"exclamation-triangle\" title=\"Remove\"/>\n        break\n      }\n    }\n    return icon\n  }\n\n  renderConnections(connections: Map<string, Connection>) {\n    if(!connections) {\n      return null;\n    }\n\n    // const style = \"blueTable\"\n    const style = \"minimalistBlack\"\n    \n    return <div>\n      <table className={style}>\n        <thead>\n        <tr>\n          <th>Name</th>\n          <th>URL</th>\n          <th>Status</th>\n          <th>Delete</th>\n        </tr>\n        </thead>\n        <tbody>\n      {connections.map((connection: Connection, name: string) => {\n        const state: string = connection.get(\"state\")\n        return (<tr key={name}>\n          <td>{name}</td>\n          <td><b>{connection.get(\"url\")}<br/>{connection.get(\"message\")}</b></td>\n          <td className=\"center\">{this.renderStateIcon(state)}</td>\n          <td className=\"center\"><button onClick={this.removeConnection.bind(this, name)}><FontAwesomeIcon icon=\"trash-alt\" title=\"Remove\"/></button></td>\n          </tr>)\n      }\n      ).toIndexedSeq()}\n        </tbody>\n      </table>\n      </div>;\n  }\n\n  render() {\n    const { connections, connectionsCnt, addConnection } = this.props;\n\n    return (\n      <div>\n        <header>\n          <h2>Connections ({connectionsCnt.get(\"cnt\")})</h2>\n        </header>\n        <AddConnection addConnection={addConnection} />\n        <br/>\n        <div>\n          {this.renderConnections(connections)}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { isImmutable } from 'immutable-sorted'\nimport PropTypes from 'prop-types'\nimport ReactJson from 'react-json-view'\n\nimport './TimeMachinePage.css'\n\nexport default class TimeMachinePage extends Component {\n\n  actionToJs(action) {\n    let copy = {};\n    let key;\n  \n    for (key in action) {\n      let value = action[key];\n      if(isImmutable(value)) {\n        value = value.toJS();\n      }\n      copy[key] = value;\n    }\n    return copy;\n  }\n\n  preRender() {\n\n    const { state, action, repo, showRepo } = this.props;\n\n    return (\n      <div>\n        <header>\n          <h2>State Inspector</h2>\n        </header>\n        <div className=\"TimeMachinePage-body\">\n        {showRepo\n        ?[\n          <h4 key={1}>Repository</h4>,\n          <ReactJson key={2} name={false} src={repo.toJS()} />]\n        :[\n        <h4 key={1}>Action</h4>,\n        <ReactJson key={2} name={false} collapsed={1} src={this.actionToJs(action)} />,\n        <h4 key={3}>State</h4>,\n        <ReactJson key={4} name={false} collapsed={2} src={state.toJS()} />]\n        }\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const { live } = this.props;\n\n    if(!live || !this.pre) {\n      this.pre = this.preRender()\n    }\n\n    return this.pre\n  }\n}\n\nTimeMachinePage.propTypes = {\n  state: PropTypes.object,\n  prevState: PropTypes.object,\n  action: PropTypes.object,\n}\n","import { connect } from 'react-redux'\nimport TimeMachinePage from './TimeMachinePage'\n\nconst mapStateToProps = (repo, ownProps) => {\n  const e = ownProps.engine;\n  const branch = e.currentBranchState(repo);\n  const currentIndex = branch.get(\"currentIndex\");\n  const live = branch.get(\"live\")\n  const states = branch.get(\"states\");\n  const state = currentIndex < 0 ? undefined : states.get(currentIndex);\n  const actions = branch.get(\"actions\");\n  const action = currentIndex < 0 ? undefined : actions.get(currentIndex);\n  const prevState = currentIndex <= 0 ? undefined : states.get(currentIndex - 1);\n  const showRepo = repo.getIn(['options', 'showRepo']);\n  return {\n    prevState: e.printableState(prevState),\n    state: e.printableState(state),\n    action,\n    repo,\n    showRepo,\n    live,\n  };\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n})\n\nconst TimeMachineContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TimeMachinePage)\n\nexport default TimeMachineContainer\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport './TimeMachineControls.css'\n\nexport default class TimeMachineControls extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentBranch: props.currentBranch,\n      live: props.live,\n      advanced: false,\n      showRepo: props.showRepo,\n      saveAs: \"\",\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      currentBranch: nextProps.currentBranch,\n      live: nextProps.live,\n      showRepo: nextProps.showRepo,\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n  }\n\n  onChange(e) {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  onChangeBranch(e) {\n    const { switchBranch } = this.props\n    const currentBranch = e.target.value\n    this.setState({currentBranch: currentBranch})\n    switchBranch(currentBranch)\n  }\n\n  onSaveBranch(e) {\n    const { saveBranch } = this.props\n    if(this.state.saveAs) {\n      saveBranch(this.state.saveAs)\n    }\n    this.setState({\"saveAs\": \"\"})\n  }\n\n  onReset(e) {\n    const { currentBranch, resetBranch } = this.props\n    resetBranch(currentBranch)\n  }\n\n  onRemove(e) {\n    const { currentBranch, removeBranch } = this.props\n    removeBranch(currentBranch)\n  }\n\n  onGoFastForward(e) {\n    const { goForward } = this.props\n    goForward(10)\n  }\n\n  onGoForward(e) {\n    const { goForward } = this.props\n    goForward(1)\n  }\n\n  onGoBack(e) {\n    const { goBack } = this.props\n    goBack(1)\n  }\n\n  onGoFastBack(e) {\n    const { goBack } = this.props\n    goBack(10)\n  }\n\n  onGoLive(e) {\n    const { goLive } = this.props\n    goLive()\n  }\n\n  toggleLive(e) {\n    const { goBack, goLive } = this.props\n    const live = !this.state.live\n    this.setState({live: live})\n    if(live) {\n      goLive()\n    } else {\n      goBack(0)\n    }\n  }\n\n  toggleAdvanced(e) {\n    const advanced = !this.state.advanced\n    this.setState({advanced: advanced})\n  }\n\n  toggleRepo(e) {\n    const { doShowRepo } = this.props\n    const showRepo = !this.state.showRepo\n    this.setState({showRepo: showRepo})\n    doShowRepo(showRepo)\n  }\n\n  onSliderChange(value) {\n    const { goForward, goBack, currentIndex } = this.props\n    const index = value - 1;\n    if(index > currentIndex) {\n      goForward(index-currentIndex);\n    } else if(index < currentIndex) {\n      goBack(currentIndex-index);\n    }\n  }\n\n  render() {\n    const { branches, currentIndex, maxIndex } = this.props\n    let input\n\n    return (\n      <div>\n      <form onSubmit={this.onSubmit.bind(this)}>\n        <button onClick={this.toggleLive.bind(this)} title={this.state.live?\"Time Machine On\":\"Time Machine Off\"}>\n        {this.state.live \n        ? <FontAwesomeIcon icon=\"history\"/>\n        : <FontAwesomeIcon icon=\"play\"/>}\n        </button>\n        <button onClick={this.toggleAdvanced.bind(this)} title={this.state.advanced ? \"Advanced Mode Off\" : \"Advanced Mode On\"}>\n          {this.state.advanced ? <b>&#x2630;</b> : <span>&#x2630;</span>}\n        </button>\n        &nbsp;\n        {this.state.advanced ? [\n          <button key={1} onClick={this.toggleRepo.bind(this)} title={this.state.showRepo?\"Show State\":\"Show Repo\"}>\n          {this.state.showRepo \n          ? <FontAwesomeIcon key={2} icon=\"genderless\"/>\n          : <FontAwesomeIcon key={2} icon=\"code-branch\"/>}\n          </button>,         \n          <select key={3} \n            name=\"currentBranch\"\n            value={this.state.currentBranch}\n            onChange={this.onChangeBranch.bind(this)}\n            title=\"Change Branch\"\n          >\n            {branches.map((branch, id) =>\n              (<option key={id} value={branch}>{branch}</option>)\n            ).toIndexedSeq()}\n        </select>] : null }\n        <button onClick={this.onGoBack.bind(this)} title=\"Go Back\">\n          &lt;\n        </button>\n        &nbsp;{currentIndex+1} / {maxIndex+1}&nbsp;\n        <button onClick={this.onGoForward.bind(this)} title=\"Go Forward\">\n          &gt;\n        </button>\n        {this.state.advanced ?\n        <span>\n        <input\n          name=\"saveAs\"\n          size=\"8\"\n          value={this.state.saveAs}\n          onChange={this.onChange.bind(this)}/>\n        <button onClick={this.onSaveBranch.bind(this)} title=\"Save Branch\"\n          disabled={!this.state.saveAs}>\n          Save\n        </button>\n        <button onClick={this.onReset.bind(this)} title=\"Reset Branch\">\n          Reset\n        </button>\n        <button onClick={this.onRemove.bind(this)} title=\"Remove Branch\">\n          Remove\n        </button>\n        </span> : null}\n      </form>\n      {this.state.live ? null : <div className=\"TimeMachineControls-slider\"><Slider\n        min={1}\n        max={maxIndex+1}\n        value={currentIndex+1}\n        step={1}\n        onChange={this.onSliderChange.bind(this)}\n      />\n      </div>}\n      </div>\n    )\n  }\n}\n\nTimeMachineControls.propTypes = {\n  currentBranch: PropTypes.string.isRequired,\n  currentIndex: PropTypes.number.isRequired,\n  maxIndex: PropTypes.number.isRequired,\n  live: PropTypes.bool.isRequired,\n  branches: PropTypes.object.isRequired,\n  goBack: PropTypes.func.isRequired,\n  goForward: PropTypes.func.isRequired,\n  goLive: PropTypes.func.isRequired,\n  switchBranch: PropTypes.func.isRequired,\n  saveBranch: PropTypes.func.isRequired,\n  resetBranch: PropTypes.func.isRequired,\n  removeBranch: PropTypes.func.isRequired,\n}\n","import { connect } from 'react-redux'\nimport TimeMachineControls from './TimeMachineControls'\n\nconst mapStateToProps = (repo, ownProps) => {\n  const currentBranch = repo.get(\"currentBranch\")\n  const branches = repo.get(\"branches\")\n  const branch = branches.get(currentBranch);\n  const live = branch.get(\"live\")\n  const showRepo = repo.getIn([\"options\", \"showRepo\"]);\n  const currentIndex = branch.get(\"currentIndex\")\n  const states = branch.get(\"states\")\n  const maxIndex = states.size-1\n  return {\n    branches: branches.keySeq(),\n    currentBranch,\n    currentIndex,\n    maxIndex,\n    live,\n    showRepo,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const e = ownProps.engine\n  const af = e.actionFactory()\n  \n  return {\n    goForward: (steps) => {\n      const action = af.goForward(steps)\n      dispatch(action)\n    },\n    goBack: (steps) => {\n      const action = af.goBack(steps)\n      dispatch(action)\n    },\n    goLive: () => {\n      const action = af.goLive()\n      dispatch(action)\n    },\n    doShowRepo: (showRepo) => {\n      const action = af.setOption(\"showRepo\", showRepo)\n      dispatch(action)\n    },\n    switchBranch: (name) => {\n      const action = af.switchBranch(name)\n      dispatch(action)\n    },\n    saveBranch: (name) => {\n      const action = af.saveBranch(name)\n      dispatch(action)\n    },\n    resetBranch: (name) => {\n      const action = af.resetBranch(name)\n      dispatch(action)\n    },\n    removeBranch: (name) => {\n      if(name === \"master\") {\n        return\n      }\n      const action1 = af.switchBranch(\"master\")\n      dispatch(action1)\n      const action2 = af.removeBranch(name)\n      dispatch(action2)\n    }\n  }\n}\n\nconst TimeMachineControlsContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TimeMachineControls)\n\nexport default TimeMachineControlsContainer\n","import React, {Component} from 'react'\n\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n\nimport HomeContainer from '../Home/HomeContainer'\nimport HomePage from '../Home/HomePage'\nimport DashContainer from '../Dash/DashContainer'\nimport DashPage from '../Dash/DashPage'\nimport SettingsContainer from '../Settings/SettingsContainer'\nimport SettingsPage from '../Settings/SettingsPage'\nimport CreditsPage from '../Credits/CreditsPage'\nimport ConnectionsContainer from '../Connections/ConnectionsContainer'\nimport ConnectionsPage from '../Connections/ConnectionsPage'\n\nimport TimeMachineContainer from '../TimeMachine/TimeMachineContainer'\nimport TimeMachineControlsContainer from '../TimeMachineControls/TimeMachineControlsContainer';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport 'react-tabs/style/react-tabs.css'\n\nimport './Menu.css'\n\nconst HomeTab = HomeContainer(HomePage)\nconst DashTab = DashContainer(DashPage)\nconst ConnectionsTab = ConnectionsContainer(ConnectionsPage)\nconst SettingsTab = SettingsContainer(SettingsPage)\n\nexport default class Menu extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectedTabIndex: this.props.state.get(\"selectedTabIndex\"),\n    }\n  }\n\n  updateTabIndex(index) {\n    this.setState({selectedTabIndex: index})\n    this.props.updateTabIndex(index)\n  }\n\n  render() {\n    const devMode = this.props.state.getIn([\"settings\", \"devMode\"])\n  return <Tabs \n    selectedTabClassName=\"react-tabs__tab--selected Menu-selected\"\n    selectedIndex={this.state.selectedTabIndex}\n    onSelect={this.updateTabIndex.bind(this)}\n    >\n    <TabList className=\"Menu\">\n      <Tab title=\"Home\"><FontAwesomeIcon icon=\"home\"/></Tab>\n      <Tab title=\"Dashboard\"><FontAwesomeIcon icon=\"chart-line\"/></Tab>\n      <Tab title=\"Connections\"><FontAwesomeIcon icon=\"wifi\"/></Tab>\n      <Tab title=\"Settings\"><FontAwesomeIcon icon=\"cog\"/></Tab>\n      <Tab title=\"Links & Credits\"><FontAwesomeIcon icon=\"info\"/></Tab>\n      {devMode?<Tab title=\"State Inspector\"><FontAwesomeIcon icon=\"bug\"/></Tab>:null}\n    </TabList>\n    <hr/>\n    <TabPanel>\n      <HomeTab/>\n    </TabPanel>\n    <TabPanel>\n      <DashTab/>\n    </TabPanel>\n    <TabPanel>\n      <ConnectionsTab/>\n    </TabPanel>\n    <TabPanel>\n      <SettingsTab/>\n    </TabPanel>\n    <TabPanel>\n      <CreditsPage/>\n    </TabPanel>\n    {/* <TabPanel>\n      <TimeMachineControlsContainer engine={this.props.engine}/>\n      <TimeMachineContainer engine={this.props.engine}/>\n    </TabPanel> */}\n    {devMode?<TabPanel>\n      <TimeMachineControlsContainer engine={this.props.engine}/>\n      <TimeMachineContainer engine={this.props.engine}/>\n    </TabPanel>:null}\n  </Tabs>\n  }\n}\n","import { library } from '@fortawesome/fontawesome-svg-core'\nimport { faWifi } from '@fortawesome/free-solid-svg-icons'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as farHeart } from '@fortawesome/free-regular-svg-icons'\nimport { faHeartbeat } from '@fortawesome/free-solid-svg-icons'\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons'\nimport { faHome } from '@fortawesome/free-solid-svg-icons'\nimport { faTerminal } from '@fortawesome/free-solid-svg-icons'\nimport { faChartLine } from '@fortawesome/free-solid-svg-icons'\nimport { faTachometerAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faInfo } from '@fortawesome/free-solid-svg-icons'\nimport { faMicrochip } from '@fortawesome/free-solid-svg-icons'\nimport { faTrophy } from '@fortawesome/free-solid-svg-icons'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { faMinus } from '@fortawesome/free-solid-svg-icons'\nimport { faHandPaper } from '@fortawesome/free-solid-svg-icons'\nimport { faCheck } from '@fortawesome/free-solid-svg-icons'\nimport { faBackspace } from '@fortawesome/free-solid-svg-icons'\nimport { faCalculator } from '@fortawesome/free-solid-svg-icons'\nimport { faPercent } from '@fortawesome/free-solid-svg-icons'\nimport { faSmile } from '@fortawesome/free-solid-svg-icons'\nimport { faUser } from '@fortawesome/free-solid-svg-icons'\nimport { faUserMinus } from '@fortawesome/free-solid-svg-icons'\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons'\nimport { faRandom } from '@fortawesome/free-solid-svg-icons'\n\nimport { faSyncAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faToggleOn } from '@fortawesome/free-solid-svg-icons'\nimport { faToggleOff } from '@fortawesome/free-solid-svg-icons'\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport { faSearchMinus } from '@fortawesome/free-solid-svg-icons'\nimport { faSearchPlus } from '@fortawesome/free-solid-svg-icons'\nimport { faArrowsAltH } from '@fortawesome/free-solid-svg-icons'\nimport { faPlay } from '@fortawesome/free-solid-svg-icons'\nimport { faStop } from '@fortawesome/free-solid-svg-icons'\nimport { faEllipsisH } from '@fortawesome/free-solid-svg-icons'\nimport { faRunning } from '@fortawesome/free-solid-svg-icons'\nimport { faTh } from '@fortawesome/free-solid-svg-icons'\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons'\nimport { faGripHorizontal } from '@fortawesome/free-solid-svg-icons'\nimport { faBug } from '@fortawesome/free-solid-svg-icons'\nimport { faHistory } from '@fortawesome/free-solid-svg-icons'\nimport { faCodeBranch } from '@fortawesome/free-solid-svg-icons'\nimport { faGenderless } from '@fortawesome/free-solid-svg-icons'\nimport { faTable } from '@fortawesome/free-solid-svg-icons'\nimport { faListUl } from '@fortawesome/free-solid-svg-icons'\nimport { faBookMedical } from '@fortawesome/free-solid-svg-icons'\nimport { faPalette } from '@fortawesome/free-solid-svg-icons'\nimport { faCog } from '@fortawesome/free-solid-svg-icons'\nimport { faGolfBall } from '@fortawesome/free-solid-svg-icons'\nimport { faBowlingBall } from '@fortawesome/free-solid-svg-icons'\nimport { faTrashRestore } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faWifi)\nlibrary.add(faHeart)\nlibrary.add(farHeart)\nlibrary.add(faHeartbeat)\nlibrary.add(faExclamationTriangle)\nlibrary.add(faThumbsUp)\nlibrary.add(faHome)\nlibrary.add(faTerminal)\nlibrary.add(faChartLine)\nlibrary.add(faTachometerAlt)\nlibrary.add(faInfo)\nlibrary.add(faMicrochip)\nlibrary.add(faTrophy)\nlibrary.add(faPlus)\nlibrary.add(faMinus)\nlibrary.add(faHandPaper)\nlibrary.add(faCheck)\nlibrary.add(faBackspace)\nlibrary.add(faCalculator)\nlibrary.add(faPercent)\nlibrary.add(faSmile)\nlibrary.add(faUser)\nlibrary.add(faUserMinus)\nlibrary.add(faUserPlus)\nlibrary.add(faRandom)\n\nlibrary.add(faSyncAlt)\nlibrary.add(faToggleOn)\nlibrary.add(faToggleOff)\nlibrary.add(faTrashAlt)\nlibrary.add(faFilter)\nlibrary.add(faSearch)\nlibrary.add(faSearchMinus)\nlibrary.add(faSearchPlus)\nlibrary.add(faArrowsAltH)\nlibrary.add(faPlay)\nlibrary.add(faStop)\nlibrary.add(faEllipsisH)\nlibrary.add(faRunning)\nlibrary.add(faTh)\nlibrary.add(faGripVertical)\nlibrary.add(faGripHorizontal)\nlibrary.add(faBug)\nlibrary.add(faHistory)\nlibrary.add(faCodeBranch)\nlibrary.add(faGenderless)\nlibrary.add(faTable)\nlibrary.add(faListUl)\nlibrary.add(faBookMedical)\nlibrary.add(faPalette)\nlibrary.add(faCog)\nlibrary.add(faGolfBall)\nlibrary.add(faBowlingBall)\nlibrary.add(faTrashRestore)\n","import React, { Component } from 'react'\n\nimport Banner from './components/Banner'\nimport Menu from '../Menu/Menu'\n\nimport './components/Icons'\nimport './AppPage.css'\n\nclass AppPage extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <Banner/>\n        </div>\n        <Menu {...this.props}/>\n      </div>\n    )\n  }\n}\n\nexport default AppPage\n","import { connect } from 'react-redux'\nimport { engine } from '../../engine'\nimport AppPage from './AppPage'\n\n\nconst e = engine\nconst af = e.actionFactory();\n\nconst mapStateToProps = (state, live, ownProps) => ({\n  state,\n  live,\n})\n\nconst mapRepoToProps = (repo, ownProps) => mapStateToProps(ownProps.engine.head(repo), ownProps.engine.live(repo), ownProps)\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    updateTabIndex: (index) => dispatch(af.value(\"selectedTabIndex\", index)),\n})\n\nconst AppContainer = connect(\n  mapRepoToProps,\n  mapDispatchToProps\n)(AppPage)\n\nexport default AppContainer\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\n\nimport { store, engine } from './engine'\nimport './index.css';\nimport AppContainer from './modules/App/AppContainer';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer engine={engine}/>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}